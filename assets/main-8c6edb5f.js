const a={log:(...t)=>console.log("[WA]",...t),err:(...t)=>console.error("[WA]",...t)},m="/@/ynov-1733302243/ynov_adventure/new-map",h=[{id:"#TPA-IA",label:"IA"},{id:"#TPAINFO",label:"Informatique"},{id:"#TPACYBER",label:"Cybersécurité"},{id:"#TPAARCHI",label:"Architecture"},{id:"#TPABIM",label:"Bâtiment Numérique"},{id:"#TPAAUDIO",label:"Audiovisuel"},{id:"#TPADIGITAL",label:"DIGITAL IA"},{id:"#TPA3D",label:"3D"},{id:"#TPAHUB",label:"Accueil"}];function u(t){var o;const e=(o=WA.ui)==null?void 0:o.actionBar;if(!(e!=null&&e.addButton)){a.err("actionBar.addButton introuvable");return}const n={id:t.id,label:t.label,callback:t.onClick,clickCallback:t.onClick};try{t.bgColor!==void 0&&(n.bgColor=t.bgColor),t.isGradient!==void 0&&(n.isGradient=t.isGradient),e.addButton(n),a.log(`Button added: ${t.id} (with style if supported)`)}catch{try{e.addButton({id:t.id,label:t.label,callback:t.onClick,clickCallback:t.onClick}),a.log(`Button added: ${t.id} (fallback no-style)`)}catch(l){a.err(`Failed to add button ${t.id}:`,l)}}}function p(t){var n,o;const e=(n=WA.ui)==null?void 0:n.actionBar;try{(o=e==null?void 0:e.removeButton)==null||o.call(e,t)}catch{}}const s="teleport-btn";let b=!1,i=0,f=[];function T(){try{if(/Mobi|Android/i.test(navigator.userAgent)||typeof window<"u"&&window.innerWidth<768||window.matchMedia&&window.matchMedia("(pointer:coarse)").matches)return 1}catch{}return 3}let c=T();WA.onInit().then(()=>{a.log("onInit OK"),u({id:"candidater-btn",label:"Candidater",bgColor:"#edb911",isGradient:!0,onClick:()=>{var t;try{(t=WA==null?void 0:WA.nav)!=null&&t.openTab?WA.nav.openTab("https://www.ynov.com/candidature"):window.open("https://www.ynov.com/candidature","_blank","noopener,noreferrer")}catch{window.open("https://www.ynov.com/candidature","_blank","noopener,noreferrer")}}}),u({id:s,label:"Téléportation",bgColor:"#2ea7ff",isGradient:!0,onClick:()=>w()}),a.log("Buttons added")}).catch(t=>a.err("onInit error:",t));function w(){b||(b=!0,p(s),i=0,c=T(),A())}function B(){g(),b=!1,u({id:s,label:"Téléportation",bgColor:"#2ea7ff",isGradient:!0,onClick:()=>w()})}function A(){g();const t=Math.max(1,Math.ceil(h.length/c));i=Math.max(0,Math.min(i,t-1));const e=i*c,n=h.slice(e,e+c);i>0&&d("tp-prev","◀",()=>{i-=1,A()}),n.forEach((o,r)=>{d(`tp-z-${e+r}`,o.label,()=>{try{WA.nav.goToRoom(m+o.id)}catch(l){a.err("goToRoom error:",l)}B()})}),i<t-1&&d("tp-next","▶",()=>{i+=1,A()}),d("tp-close","✖",()=>B()),a.log(`TP menu page ${i+1}/${t}, PER_PAGE=${c}`)}function d(t,e,n){var r;f.push(t);const o=(r=WA.ui)==null?void 0:r.actionBar;try{o.addButton({id:t,label:e,callback:n,clickCallback:n})}catch(l){a.err(`Failed to add TP sub-button ${t}:`,l)}}function g(){var e;const t=(e=WA.ui)==null?void 0:e.actionBar;f.forEach(n=>{var o;try{(o=t.removeButton)==null||o.call(t,n)}catch{}}),f=[]}
//# sourceMappingURL=main-8c6edb5f.js.map
