const i={log:(...t)=>console.log("[WA]",...t),err:(...t)=>console.error("[WA]",...t)},I="/@/ynov-1733302243/ynov_adventure/e-jpo",s=[{id:"#TPA-IA",label:"IA"},{id:"#TPAINFO",label:"Informatique"},{id:"#TPACYBER",label:"Cybersécurité"},{id:"#TPAARCHI",label:"Architecture"},{id:"#TPABIM",label:"Bâtiment Numérique"},{id:"#TPAAUDIO",label:"Audiovisuel"},{id:"#TPADIGITAL",label:"DIGITAL IA"},{id:"#TPA3D",label:"3D"},{id:"#TPAHUB",label:"Accueil"}];function T(t){var n;const e=(n=WA.ui)==null?void 0:n.actionBar;if(!(e!=null&&e.addButton)){i.err("actionBar.addButton introuvable");return}const o={id:t.id,label:t.label,callback:t.onClick,clickCallback:t.onClick};try{t.bgColor!==void 0&&(o.bgColor=t.bgColor),t.isGradient!==void 0&&(o.isGradient=t.isGradient),e.addButton(o),i.log(`Button added: ${t.id} (with style if supported)`)}catch{try{e.addButton({id:t.id,label:t.label,callback:t.onClick,clickCallback:t.onClick}),i.log(`Button added: ${t.id} (fallback no-style)`)}catch(r){i.err(`Failed to add button ${t.id}:`,r)}}}function m(t){var o,n;const e=(o=WA.ui)==null?void 0:o.actionBar;try{(n=e==null?void 0:e.removeButton)==null||n.call(e,t)}catch{}}const b="teleport-btn";let u=!1,a=0,A=[];function h(){try{if(/Mobi|Android/i.test(navigator.userAgent)||typeof window<"u"&&window.innerWidth<768||window.matchMedia&&window.matchMedia("(pointer:coarse)").matches)return 1}catch{}return 3}let c=h();WA.onInit().then(()=>{i.log("onInit OK"),T({id:b,label:"Téléportation",bgColor:"#2ea7ff",isGradient:!0,onClick:()=>g()}),i.log("Buttons added")}).catch(t=>i.err("onInit error:",t));function g(){u||(u=!0,m(b),a=0,c=h(),f())}function B(){P(),u=!1,T({id:b,label:"Téléportation",bgColor:"#2ea7ff",isGradient:!0,onClick:()=>g()})}function f(){P();const t=Math.max(1,Math.ceil(s.length/c));a=Math.max(0,Math.min(a,t-1));const e=a*c,o=s.slice(e,e+c);a>0&&d("tp-prev","◀",()=>{a-=1,f()}),o.forEach((n,l)=>{d(`tp-z-${e+l}`,n.label,()=>{try{WA.nav.goToRoom(I+n.id)}catch(r){i.err("goToRoom error:",r)}B()})}),a<t-1&&d("tp-next","▶",()=>{a+=1,f()}),d("tp-close","✖",()=>B()),i.log(`TP menu page ${a+1}/${t}, PER_PAGE=${c}`)}function d(t,e,o){var l;A.push(t);const n=(l=WA.ui)==null?void 0:l.actionBar;try{n.addButton({id:t,label:e,callback:o,clickCallback:o})}catch(r){i.err(`Failed to add TP sub-button ${t}:`,r)}}function P(){var e;const t=(e=WA.ui)==null?void 0:e.actionBar;A.forEach(o=>{var n;try{(n=t.removeButton)==null||n.call(t,o)}catch{}}),A=[]}
//# sourceMappingURL=main-549a0a92.js.map
