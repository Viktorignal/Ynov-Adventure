const i={log:(...t)=>console.log("[WA]",...t),err:(...t)=>console.error("[WA]",...t)},g="/@/ynov-1733302243/ynov_adventure/new-map",T=[{id:"#TPA-IA",label:"IA"},{id:"#TPAINFO",label:"Informatique"},{id:"#TPACYBER",label:"Cybersécurité"},{id:"#TPAARCHI",label:"Architecture"},{id:"#TPABIM",label:"Bâtiment Numérique"},{id:"#TPAAUDIO",label:"Audiovisuel"},{id:"#TPADIGITAL",label:"DIGITAL IA"},{id:"#TPA3D",label:"3D"},{id:"#TPAHUB",label:"Accueil"}],d=3;function B(t,o,e,n=!0){var a,u;const r=(a=WA.ui)==null?void 0:a.actionBar;if(!(r!=null&&r.addButton))return i.err("actionBar indisponible"),!1;try{(u=r.removeButton)==null||u.call(r,t)}catch{}try{const c={id:t,label:o,callback:e,clickCallback:e};return n&&(c.bgColor="#2ea7ff",c.isGradient=!0),r.addButton(c),!0}catch{try{return r.addButton({id:t,label:o,callback:e,clickCallback:e}),!0}catch(A){return i.err("addButton error:",A),!1}}}function P(t){var o,e,n;try{(n=(e=(o=WA.ui)==null?void 0:o.actionBar)==null?void 0:e.removeButton)==null||n.call(e,t)}catch{}}const b="teleport-btn";let p=!1,l=0,f=[];WA.onInit().then(()=>{var n,r;let t=0;const o=20,e=()=>{if(t++,B(b,"Téléportation",m,!0)){i.log("Bouton Téléportation OK");return}t<o?setTimeout(e,200):i.err("Impossible d’ajouter le bouton Téléportation (action bar).")};e();try{(r=(n=WA.ui).registerMenuCommand)==null||r.call(n,"Téléportation",m),T.forEach(a=>{var u,c;return(c=(u=WA.ui).registerMenuCommand)==null?void 0:c.call(u,a.label,()=>{try{WA.nav.goToRoom(g+a.id)}catch(A){i.err("goToRoom error:",A)}})})}catch{i.log("registerMenuCommand non disponible — pas bloquant.")}}).catch(t=>i.err("onInit error:",t));function m(){p||(p=!0,P(b),l=0,h())}function I(){M(),p=!1,B(b,"Téléportation",m,!0)}function h(){M();const t=Math.max(1,Math.ceil(T.length/d));l=Math.max(0,Math.min(l,t-1));const o=l*d,e=T.slice(o,o+d);l>0&&s("tp-prev","◀",()=>{l--,h()}),e.forEach((n,r)=>s(`tp-${o+r}`,n.label,()=>{try{WA.nav.goToRoom(g+n.id)}catch(a){i.err("goToRoom error:",a)}I()})),l<t-1&&s("tp-next","▶",()=>{l++,h()}),s("tp-close","✖",I)}function s(t,o,e){B(t,o,e,!1)&&f.push(t)}function M(){f.forEach(t=>P(t)),f=[]}
//# sourceMappingURL=main-e3f14684.js.map
