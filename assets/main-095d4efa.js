const a={log:(...t)=>console.log("[WA]",...t),err:(...t)=>console.error("[WA]",...t)},m="/@/ynov-1733302243/ynov_adventure/new-map",s=[{id:"#TPA-IA",label:"IA"},{id:"#TPAINFO",label:"Informatique"},{id:"#TPACYBER",label:"Cybersécurité"},{id:"#TPAARCHI",label:"Architecture"},{id:"#TPABIM",label:"Bâtiment Numérique"},{id:"#TPAAUDIO",label:"Audiovisuel"},{id:"#TPADIGITAL",label:"DIGITAL IA"},{id:"#TPA3D",label:"3D"},{id:"#TPAHUB",label:"Accueil"}];function T(t){var o;const e=(o=WA.ui)==null?void 0:o.actionBar;if(!(e!=null&&e.addButton)){a.err("actionBar.addButton introuvable");return}const n={id:t.id,label:t.label,callback:t.onClick,clickCallback:t.onClick};try{t.bgColor!==void 0&&(n.bgColor=t.bgColor),t.isGradient!==void 0&&(n.isGradient=t.isGradient),e.addButton(n),a.log(`Button added: ${t.id} (with style if supported)`)}catch{try{e.addButton({id:t.id,label:t.label,callback:t.onClick,clickCallback:t.onClick}),a.log(`Button added: ${t.id} (fallback no-style)`)}catch(r){a.err(`Failed to add button ${t.id}:`,r)}}}function I(t){var n,o;const e=(n=WA.ui)==null?void 0:n.actionBar;try{(o=e==null?void 0:e.removeButton)==null||o.call(e,t)}catch{}}const b="teleport-btn";let u=!1,i=0,A=[];function h(){try{if(/Mobi|Android/i.test(navigator.userAgent)||typeof window<"u"&&window.innerWidth<768||window.matchMedia&&window.matchMedia("(pointer:coarse)").matches)return 1}catch{}return 3}let c=h();WA.onInit().then(()=>{a.log("onInit OK"),T({id:b,label:"Téléportation",bgColor:"#2ea7ff",isGradient:!0,onClick:()=>g()}),a.log("Buttons added")}).catch(t=>a.err("onInit error:",t));function g(){u||(u=!0,I(b),i=0,c=h(),f())}function B(){P(),u=!1,T({id:b,label:"Téléportation",bgColor:"#2ea7ff",isGradient:!0,onClick:()=>g()})}function f(){P();const t=Math.max(1,Math.ceil(s.length/c));i=Math.max(0,Math.min(i,t-1));const e=i*c,n=s.slice(e,e+c);i>0&&d("tp-prev","◀",()=>{i-=1,f()}),n.forEach((o,l)=>{d(`tp-z-${e+l}`,o.label,()=>{try{WA.nav.goToRoom(m+o.id)}catch(r){a.err("goToRoom error:",r)}B()})}),i<t-1&&d("tp-next","▶",()=>{i+=1,f()}),d("tp-close","✖",()=>B()),a.log(`TP menu page ${i+1}/${t}, PER_PAGE=${c}`)}function d(t,e,n){var l;A.push(t);const o=(l=WA.ui)==null?void 0:l.actionBar;try{o.addButton({id:t,label:e,callback:n,clickCallback:n})}catch(r){a.err(`Failed to add TP sub-button ${t}:`,r)}}function P(){var e;const t=(e=WA.ui)==null?void 0:e.actionBar;A.forEach(n=>{var o;try{(o=t.removeButton)==null||o.call(t,n)}catch{}}),A=[]}
//# sourceMappingURL=main-095d4efa.js.map
